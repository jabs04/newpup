<x-master-layout>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-lg-3 col-md-6">
                        <a  href="{{ route('provider.index') }}">
                            <div class="card total-provider-card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col">
                                            <div class="d-flex flex-wrap justify-content-start align-items-center">
                                                <h4 class="mb-2 booking-text font-weight-bold">{{ !empty($data['dashboard']['count_total_student']) ? $data['dashboard']['count_total_student'] : 0 }}</h4>
                                                <p class="mb-0 ml-3 text-danger font-weight-bold"></p>
                                            </div>
                                            <p class="mb-0 booking-text">Students</p>
                                        </div>
                                        <div class="col-auto d-flex flex-column">
                                            <div class="iq-card-icon iq-card-icon-provider icon-shape  text-white rounded-circle shadow">
                                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M0.666748 16.8542V14.7708C0.666748 14.2569 0.798692 13.7917 1.06258 13.375C1.32647 12.9583 1.69453 12.6458 2.16675 12.4375C3.18064 11.993 4.10078 11.6736 4.92716 11.4792C5.75355 11.2847 6.5973 11.1875 7.45841 11.1875C8.3473 11.1875 9.198 11.2847 10.0105 11.4792C10.823 11.6736 11.7362 11.993 12.7501 12.4375C13.2223 12.6458 13.5938 12.9583 13.8647 13.375C14.1355 13.7917 14.2709 14.2569 14.2709 14.7708V16.8542H0.666748ZM15.5626 16.8542V14.7708C15.5626 13.8958 15.3438 13.1701 14.9063 12.5937C14.4688 12.0174 13.882 11.5347 13.1459 11.1458C14.0765 11.2569 14.9549 11.4201 15.7813 11.6354C16.6077 11.8507 17.2848 12.0903 17.8126 12.3542C18.2709 12.618 18.639 12.9583 18.9167 13.375C19.1945 13.7917 19.3334 14.2639 19.3334 14.7917V16.8542H15.5626ZM7.47925 9.91666C6.5348 9.91666 5.76744 9.61805 5.17716 9.02082C4.58689 8.4236 4.29175 7.65971 4.29175 6.72916C4.29175 5.78471 4.58689 5.01735 5.17716 4.42707C5.76744 3.8368 6.52786 3.54166 7.45841 3.54166C8.40286 3.54166 9.17369 3.8368 9.77091 4.42707C10.3681 5.01735 10.6667 5.78471 10.6667 6.72916C10.6667 7.65971 10.3681 8.4236 9.77091 9.02082C9.17369 9.61805 8.4098 9.91666 7.47925 9.91666V9.91666ZM15.1459 6.72916C15.1459 7.65971 14.8508 8.4236 14.2605 9.02082C13.6702 9.61805 12.9029 9.91666 11.9584 9.91666C11.8056 9.91666 11.6355 9.90624 11.448 9.88541C11.2605 9.86457 11.0904 9.81943 10.9376 9.74999C11.2709 9.40277 11.5244 8.97221 11.698 8.45832C11.8716 7.94443 11.9584 7.36805 11.9584 6.72916C11.9584 6.09027 11.8716 5.52777 11.698 5.04166C11.5244 4.55555 11.2709 4.10416 10.9376 3.68749C11.0904 3.64582 11.2605 3.6111 11.448 3.58332C11.6355 3.55555 11.8056 3.54166 11.9584 3.54166C12.9029 3.54166 13.6702 3.84027 14.2605 4.43749C14.8508 5.03471 15.1459 5.7986 15.1459 6.72916V6.72916ZM2.10425 15.4375H12.8334V14.7917C12.8334 14.5694 12.7674 14.3542 12.6355 14.1458C12.5036 13.9375 12.3404 13.7917 12.1459 13.7083C11.1598 13.2778 10.3334 12.9861 9.66675 12.8333C9.00008 12.6805 8.26397 12.6042 7.45841 12.6042C6.68064 12.6042 5.948 12.6805 5.2605 12.8333C4.573 12.9861 3.74314 13.2778 2.77091 13.7083C2.57647 13.7917 2.41675 13.9375 2.29175 14.1458C2.16675 14.3542 2.10425 14.5694 2.10425 14.7917V15.4375ZM7.45841 8.54166C7.98619 8.54166 8.42369 8.37152 8.77091 8.03124C9.11814 7.69096 9.29175 7.25693 9.29175 6.72916C9.29175 6.20138 9.12161 5.76388 8.78133 5.41666C8.44105 5.06943 8.00703 4.89582 7.47925 4.89582C6.95147 4.89582 6.51397 5.06943 6.16675 5.41666C5.81953 5.76388 5.64591 6.20138 5.64591 6.72916C5.64591 7.25693 5.81953 7.69096 6.16675 8.03124C6.51397 8.37152 6.94453 8.54166 7.45841 8.54166V8.54166Z" fill="white"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <a  href="{{ route('provider.index') }}">
                            <div class="card total-provider-card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col">
                                            <div class="d-flex flex-wrap justify-content-start align-items-center">
                                                <h4 class="mb-2 booking-text font-weight-bold">{{ !empty($data['dashboard']['count_total_BSIT']) ? $data['dashboard']['count_total_BSIT'] : 0 }}</h4>
                                                <p class="mb-0 ml-3 text-danger font-weight-bold"></p>
                                            </div>
                                            <p class="mb-0 booking-text">BSIT</p>
                                        </div>
                                        <div class="col-auto d-flex flex-column">
                                            <div class="iq-card-icon iq-card-icon-provider icon-shape  text-white rounded-circle shadow">
                                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M0.666748 16.8542V14.7708C0.666748 14.2569 0.798692 13.7917 1.06258 13.375C1.32647 12.9583 1.69453 12.6458 2.16675 12.4375C3.18064 11.993 4.10078 11.6736 4.92716 11.4792C5.75355 11.2847 6.5973 11.1875 7.45841 11.1875C8.3473 11.1875 9.198 11.2847 10.0105 11.4792C10.823 11.6736 11.7362 11.993 12.7501 12.4375C13.2223 12.6458 13.5938 12.9583 13.8647 13.375C14.1355 13.7917 14.2709 14.2569 14.2709 14.7708V16.8542H0.666748ZM15.5626 16.8542V14.7708C15.5626 13.8958 15.3438 13.1701 14.9063 12.5937C14.4688 12.0174 13.882 11.5347 13.1459 11.1458C14.0765 11.2569 14.9549 11.4201 15.7813 11.6354C16.6077 11.8507 17.2848 12.0903 17.8126 12.3542C18.2709 12.618 18.639 12.9583 18.9167 13.375C19.1945 13.7917 19.3334 14.2639 19.3334 14.7917V16.8542H15.5626ZM7.47925 9.91666C6.5348 9.91666 5.76744 9.61805 5.17716 9.02082C4.58689 8.4236 4.29175 7.65971 4.29175 6.72916C4.29175 5.78471 4.58689 5.01735 5.17716 4.42707C5.76744 3.8368 6.52786 3.54166 7.45841 3.54166C8.40286 3.54166 9.17369 3.8368 9.77091 4.42707C10.3681 5.01735 10.6667 5.78471 10.6667 6.72916C10.6667 7.65971 10.3681 8.4236 9.77091 9.02082C9.17369 9.61805 8.4098 9.91666 7.47925 9.91666V9.91666ZM15.1459 6.72916C15.1459 7.65971 14.8508 8.4236 14.2605 9.02082C13.6702 9.61805 12.9029 9.91666 11.9584 9.91666C11.8056 9.91666 11.6355 9.90624 11.448 9.88541C11.2605 9.86457 11.0904 9.81943 10.9376 9.74999C11.2709 9.40277 11.5244 8.97221 11.698 8.45832C11.8716 7.94443 11.9584 7.36805 11.9584 6.72916C11.9584 6.09027 11.8716 5.52777 11.698 5.04166C11.5244 4.55555 11.2709 4.10416 10.9376 3.68749C11.0904 3.64582 11.2605 3.6111 11.448 3.58332C11.6355 3.55555 11.8056 3.54166 11.9584 3.54166C12.9029 3.54166 13.6702 3.84027 14.2605 4.43749C14.8508 5.03471 15.1459 5.7986 15.1459 6.72916V6.72916ZM2.10425 15.4375H12.8334V14.7917C12.8334 14.5694 12.7674 14.3542 12.6355 14.1458C12.5036 13.9375 12.3404 13.7917 12.1459 13.7083C11.1598 13.2778 10.3334 12.9861 9.66675 12.8333C9.00008 12.6805 8.26397 12.6042 7.45841 12.6042C6.68064 12.6042 5.948 12.6805 5.2605 12.8333C4.573 12.9861 3.74314 13.2778 2.77091 13.7083C2.57647 13.7917 2.41675 13.9375 2.29175 14.1458C2.16675 14.3542 2.10425 14.5694 2.10425 14.7917V15.4375ZM7.45841 8.54166C7.98619 8.54166 8.42369 8.37152 8.77091 8.03124C9.11814 7.69096 9.29175 7.25693 9.29175 6.72916C9.29175 6.20138 9.12161 5.76388 8.78133 5.41666C8.44105 5.06943 8.00703 4.89582 7.47925 4.89582C6.95147 4.89582 6.51397 5.06943 6.16675 5.41666C5.81953 5.76388 5.64591 6.20138 5.64591 6.72916C5.64591 7.25693 5.81953 7.69096 6.16675 8.03124C6.51397 8.37152 6.94453 8.54166 7.45841 8.54166V8.54166Z" fill="white"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <a  href="{{ route('provider.index') }}">
                            <div class="card total-provider-card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col">
                                            <div class="d-flex flex-wrap justify-content-start align-items-center">
                                                <h4 class="mb-2 booking-text font-weight-bold">{{ !empty($data['dashboard']['count_total_BSENT']) ? $data['dashboard']['count_total_BSENT'] : 0 }}</h4>
                                                <p class="mb-0 ml-3 text-danger font-weight-bold"></p>
                                            </div>
                                            <p class="mb-0 booking-text">BSENT</p>
                                        </div>
                                        <div class="col-auto d-flex flex-column">
                                            <div class="iq-card-icon iq-card-icon-provider icon-shape  text-white rounded-circle shadow">
                                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M0.666748 16.8542V14.7708C0.666748 14.2569 0.798692 13.7917 1.06258 13.375C1.32647 12.9583 1.69453 12.6458 2.16675 12.4375C3.18064 11.993 4.10078 11.6736 4.92716 11.4792C5.75355 11.2847 6.5973 11.1875 7.45841 11.1875C8.3473 11.1875 9.198 11.2847 10.0105 11.4792C10.823 11.6736 11.7362 11.993 12.7501 12.4375C13.2223 12.6458 13.5938 12.9583 13.8647 13.375C14.1355 13.7917 14.2709 14.2569 14.2709 14.7708V16.8542H0.666748ZM15.5626 16.8542V14.7708C15.5626 13.8958 15.3438 13.1701 14.9063 12.5937C14.4688 12.0174 13.882 11.5347 13.1459 11.1458C14.0765 11.2569 14.9549 11.4201 15.7813 11.6354C16.6077 11.8507 17.2848 12.0903 17.8126 12.3542C18.2709 12.618 18.639 12.9583 18.9167 13.375C19.1945 13.7917 19.3334 14.2639 19.3334 14.7917V16.8542H15.5626ZM7.47925 9.91666C6.5348 9.91666 5.76744 9.61805 5.17716 9.02082C4.58689 8.4236 4.29175 7.65971 4.29175 6.72916C4.29175 5.78471 4.58689 5.01735 5.17716 4.42707C5.76744 3.8368 6.52786 3.54166 7.45841 3.54166C8.40286 3.54166 9.17369 3.8368 9.77091 4.42707C10.3681 5.01735 10.6667 5.78471 10.6667 6.72916C10.6667 7.65971 10.3681 8.4236 9.77091 9.02082C9.17369 9.61805 8.4098 9.91666 7.47925 9.91666V9.91666ZM15.1459 6.72916C15.1459 7.65971 14.8508 8.4236 14.2605 9.02082C13.6702 9.61805 12.9029 9.91666 11.9584 9.91666C11.8056 9.91666 11.6355 9.90624 11.448 9.88541C11.2605 9.86457 11.0904 9.81943 10.9376 9.74999C11.2709 9.40277 11.5244 8.97221 11.698 8.45832C11.8716 7.94443 11.9584 7.36805 11.9584 6.72916C11.9584 6.09027 11.8716 5.52777 11.698 5.04166C11.5244 4.55555 11.2709 4.10416 10.9376 3.68749C11.0904 3.64582 11.2605 3.6111 11.448 3.58332C11.6355 3.55555 11.8056 3.54166 11.9584 3.54166C12.9029 3.54166 13.6702 3.84027 14.2605 4.43749C14.8508 5.03471 15.1459 5.7986 15.1459 6.72916V6.72916ZM2.10425 15.4375H12.8334V14.7917C12.8334 14.5694 12.7674 14.3542 12.6355 14.1458C12.5036 13.9375 12.3404 13.7917 12.1459 13.7083C11.1598 13.2778 10.3334 12.9861 9.66675 12.8333C9.00008 12.6805 8.26397 12.6042 7.45841 12.6042C6.68064 12.6042 5.948 12.6805 5.2605 12.8333C4.573 12.9861 3.74314 13.2778 2.77091 13.7083C2.57647 13.7917 2.41675 13.9375 2.29175 14.1458C2.16675 14.3542 2.10425 14.5694 2.10425 14.7917V15.4375ZM7.45841 8.54166C7.98619 8.54166 8.42369 8.37152 8.77091 8.03124C9.11814 7.69096 9.29175 7.25693 9.29175 6.72916C9.29175 6.20138 9.12161 5.76388 8.78133 5.41666C8.44105 5.06943 8.00703 4.89582 7.47925 4.89582C6.95147 4.89582 6.51397 5.06943 6.16675 5.41666C5.81953 5.76388 5.64591 6.20138 5.64591 6.72916C5.64591 7.25693 5.81953 7.69096 6.16675 8.03124C6.51397 8.37152 6.94453 8.54166 7.45841 8.54166V8.54166Z" fill="white"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <a  href="{{ route('provider.index') }}">
                            <div class="card total-provider-card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col">
                                            <div class="d-flex flex-wrap justify-content-start align-items-center">
                                                <h4 class="mb-2 booking-text font-weight-bold">{{ !empty($data['dashboard']['count_total_BTLED']) ? $data['dashboard']['count_total_BTLED'] : 0 }}</h4>
                                                <p class="mb-0 ml-3 text-danger font-weight-bold"></p>
                                            </div>
                                            <p class="mb-0 booking-text">BTLED</p>
                                        </div>
                                        <div class="col-auto d-flex flex-column">
                                            <div class="iq-card-icon iq-card-icon-provider icon-shape  text-white rounded-circle shadow">
                                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M0.666748 16.8542V14.7708C0.666748 14.2569 0.798692 13.7917 1.06258 13.375C1.32647 12.9583 1.69453 12.6458 2.16675 12.4375C3.18064 11.993 4.10078 11.6736 4.92716 11.4792C5.75355 11.2847 6.5973 11.1875 7.45841 11.1875C8.3473 11.1875 9.198 11.2847 10.0105 11.4792C10.823 11.6736 11.7362 11.993 12.7501 12.4375C13.2223 12.6458 13.5938 12.9583 13.8647 13.375C14.1355 13.7917 14.2709 14.2569 14.2709 14.7708V16.8542H0.666748ZM15.5626 16.8542V14.7708C15.5626 13.8958 15.3438 13.1701 14.9063 12.5937C14.4688 12.0174 13.882 11.5347 13.1459 11.1458C14.0765 11.2569 14.9549 11.4201 15.7813 11.6354C16.6077 11.8507 17.2848 12.0903 17.8126 12.3542C18.2709 12.618 18.639 12.9583 18.9167 13.375C19.1945 13.7917 19.3334 14.2639 19.3334 14.7917V16.8542H15.5626ZM7.47925 9.91666C6.5348 9.91666 5.76744 9.61805 5.17716 9.02082C4.58689 8.4236 4.29175 7.65971 4.29175 6.72916C4.29175 5.78471 4.58689 5.01735 5.17716 4.42707C5.76744 3.8368 6.52786 3.54166 7.45841 3.54166C8.40286 3.54166 9.17369 3.8368 9.77091 4.42707C10.3681 5.01735 10.6667 5.78471 10.6667 6.72916C10.6667 7.65971 10.3681 8.4236 9.77091 9.02082C9.17369 9.61805 8.4098 9.91666 7.47925 9.91666V9.91666ZM15.1459 6.72916C15.1459 7.65971 14.8508 8.4236 14.2605 9.02082C13.6702 9.61805 12.9029 9.91666 11.9584 9.91666C11.8056 9.91666 11.6355 9.90624 11.448 9.88541C11.2605 9.86457 11.0904 9.81943 10.9376 9.74999C11.2709 9.40277 11.5244 8.97221 11.698 8.45832C11.8716 7.94443 11.9584 7.36805 11.9584 6.72916C11.9584 6.09027 11.8716 5.52777 11.698 5.04166C11.5244 4.55555 11.2709 4.10416 10.9376 3.68749C11.0904 3.64582 11.2605 3.6111 11.448 3.58332C11.6355 3.55555 11.8056 3.54166 11.9584 3.54166C12.9029 3.54166 13.6702 3.84027 14.2605 4.43749C14.8508 5.03471 15.1459 5.7986 15.1459 6.72916V6.72916ZM2.10425 15.4375H12.8334V14.7917C12.8334 14.5694 12.7674 14.3542 12.6355 14.1458C12.5036 13.9375 12.3404 13.7917 12.1459 13.7083C11.1598 13.2778 10.3334 12.9861 9.66675 12.8333C9.00008 12.6805 8.26397 12.6042 7.45841 12.6042C6.68064 12.6042 5.948 12.6805 5.2605 12.8333C4.573 12.9861 3.74314 13.2778 2.77091 13.7083C2.57647 13.7917 2.41675 13.9375 2.29175 14.1458C2.16675 14.3542 2.10425 14.5694 2.10425 14.7917V15.4375ZM7.45841 8.54166C7.98619 8.54166 8.42369 8.37152 8.77091 8.03124C9.11814 7.69096 9.29175 7.25693 9.29175 6.72916C9.29175 6.20138 9.12161 5.76388 8.78133 5.41666C8.44105 5.06943 8.00703 4.89582 7.47925 4.89582C6.95147 4.89582 6.51397 5.06943 6.16675 5.41666C5.81953 5.76388 5.64591 6.20138 5.64591 6.72916C5.64591 7.25693 5.81953 7.69096 6.16675 8.03124C6.51397 8.37152 6.94453 8.54166 7.45841 8.54166V8.54166Z" fill="white"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
     
            <div class="col-md-12 col-sm-12">
                <div class="card top-providers">
                    <div class="card-header d-flex justify-content-between gap-10">
                        <h4 class="font-weight-bold">Recent Student</h4>
                            <a href="{{ route('user.all','all') }}" class="btn-link btn-link-hover"><u>{{__('messages.view_all')}} </u></a>
                    </div>
                    <div class="card-body p-0">
                        <ul class="common-list list-unstyled">
                            @foreach($data['dashboard']['new_provider'] as $provider)
                            <li style="pointer-events:none;">
                                <div class="media gap-3">
                                    <div class="h-avatar is-medium h-5">
                                        <img class="avatar-50 rounded-circle bg-light" alt="user-icon" src="{{ getSingleMedia($provider,'profile_image', null) }}">
                                    </div>
                                    
                                    <div class="media-body ">
                                        <h5><span class="font-weight-bold">{{!empty($provider->display_name) ? $provider->display_name : '-'}}</span> </h5>
                                            <span class="common-list_rating d-flex gap-1">
                                                <i class="ri-star-s-fill"></i>
                                                {{$provider->department}}
                                            </span>
                                    </div>
                                </div>
                            </li>
                            @endforeach
                        </ul>
                    </div>
                </div>
            </div>
           
        </div>
    </div>
</x-master-layout>
<script>
    var chartData = '<?php echo $data['category_chart']['chartdata']; ?>';
    var chartArray = JSON.parse(chartData);
    var chartlabel = '<?php echo $data['category_chart']['chartlabel']; ?>';
    var labelsArray = JSON.parse(chartlabel);
    if(jQuery('#monthly-revenue').length){
        var options = {
        series: [{
            name: 'revenue',
            data: [ {{ implode ( ',' ,$data['revenueData'] ) }} ]
            // data: [30, 39, 20, 28, 36, 33,20]
        }],
        chart: {
          height: 265,
          type: 'line',
          toolbar:{
            show: true,
          },
          events: {
            click: function(chart, w, e) {
            }
          }
        },        
        plotOptions: {
            bar: {
                horizontal: false,
                s̶t̶a̶r̶t̶i̶n̶g̶S̶h̶a̶p̶e̶: 'flat',
                e̶n̶d̶i̶n̶g̶S̶h̶a̶p̶e̶: 'flat',
                borderRadius: 0,
                columnWidth: '70%',
                barHeight: '70%',
                distributed: false,
                rangeBarOverlap: true,
                rangeBarGroupRows: false,
                colors: {
                    ranges: [{
                        from: 0,
                        to: 0,
                        color: undefined
                    }],
                    backgroundBarColors: [],
                    backgroundBarOpacity: 1,
                    backgroundBarRadius: 0,
                },
                dataLabels: {
                    position: 'top',
                    maxItems: 100,
                    hideOverflowingLabels: true,
                }
            }
        },
        dataLabels: {
          enabled: false
        },
        grid: {
          xaxis: {
              lines: {
                  show: false
              }
          },
          yaxis: {
              inles: {
                  show: true
              }
          }
        },
        legend: {
          show: false
        },
        yaxis: {
          labels: {
          offsetY:0,
          minWidth: 20,
          maxWidth: 20
          },
        },
        xaxis: {
          categories: [
            'Jan',
            'Feb',
            'Mar',
            'Apr',
            'May',
            'June', 
            'Jul',
            'Aug',
            'Sep',
            'Oct',
            'Nov',
            'Dec'
          ],
          labels: {
            minHeight: 22,
            maxHeight: 22,
            style: {              
              fontSize: '12px'
            }
          }
        }
        };

        var chart = new ApexCharts(document.querySelector("#monthly-revenue"), options);
        chart.render();
    }

</script>